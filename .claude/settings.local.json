{
  "permissions": {
    "allow": [
      "Bash(cat > \"C:/Users/roble/Documents/Backend/Cloud_Task/src/main/java/com/example/cloud_task/config/RedisConfig.java\" << 'EOF'\npackage com.example.cloud_task.config;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.StringRedisSerializer;\n\n@Configuration\npublic class RedisConfig {\n\n    @Value\\(\"${spring.data.redis.host}\"\\)\n    private String host;\n\n    @Value\\(\"${spring.data.redis.port}\"\\)\n    private int port;\n\n    @Bean\n    public RedisConnectionFactory redisConnectionFactory\\(\\) {\n        return new LettuceConnectionFactory\\(host, port\\);\n    }\n\n    @Bean\n    public RedisTemplate<String, Object> redisTemplate\\(RedisConnectionFactory connectionFactory\\) {\n        RedisTemplate<String, Object> template = new RedisTemplate<>\\(\\);\n        template.setConnectionFactory\\(connectionFactory\\);\n        template.setKeySerializer\\(new StringRedisSerializer\\(\\)\\);\n        template.setValueSerializer\\(new GenericJackson2JsonRedisSerializer\\(\\)\\);\n        template.setHashKeySerializer\\(new StringRedisSerializer\\(\\)\\);\n        template.setHashValueSerializer\\(new GenericJackson2JsonRedisSerializer\\(\\)\\);\n        return template;\n    }\n}\nEOF)",
      "Bash(cat > \"C:/Users/roble/Documents/Backend/Cloud_Task/src/main/resources/application.yml\" << 'EOF'\nspring:\n  application:\n    name: Cloud_Task\n\n  datasource:\n    url: jdbc:mysql://localhost:3306/cloud_task?useSSL=false&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true\n    username: root\n    password: password\n    driver-class-name: com.mysql.cj.jdbc.Driver\n\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n        dialect: org.hibernate.dialect.MySQLDialect\n\n  data:\n    redis:\n      host: localhost\n      port: 6379\n      password:\n      timeout: 6000ms\nEOF)",
      "Bash(cat > \"C:/Users/roble/Documents/Backend/Cloud_Task/build.gradle\" << 'EOF'\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '4.0.3'\n    id 'io.spring.dependency-management' version '1.1.7'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\ndescription = 'Cloud_Task'\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of\\(17\\)\n    }\n}\n\nrepositories {\n    mavenCentral\\(\\)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'io.awspring.cloud:spring-cloud-aws-dependencies:3.3.0'\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-webmvc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n\n    // AWS S3\n    implementation 'io.awspring.cloud:spring-cloud-aws-starter-s3'\n\n    // AWS SNS\n    implementation 'io.awspring.cloud:spring-cloud-aws-starter-sns'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-webmvc-test'\n    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'\n}\n\ntasks.named\\('test'\\) {\n    useJUnitPlatform\\(\\)\n}\nEOF)",
      "Bash(cat > \"C:/Users/roble/Documents/Backend/Cloud_Task/src/main/resources/application.yml\" << 'EOF'\nspring:\n  application:\n    name: Cloud_Task\n\n  datasource:\n    url: jdbc:mysql://${DB_HOST}:${DB_PORT}/cloud_task?useSSL=false&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true\n    username: ${DB_USERNAME}\n    password: ${DB_PASSWORD}\n    driver-class-name: com.mysql.cj.jdbc.Driver\n\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n        dialect: org.hibernate.dialect.MySQLDialect\n\n  data:\n    redis:\n      host: localhost\n      port: 6379\n      password:\n      timeout: 6000ms\n\nspring.cloud.aws:\n  credentials:\n    access-key: ${AWS_ACCESS_KEY}\n    secret-key: ${AWS_SECRET_KEY}\n  region:\n    static: ${AWS_REGION}\n  s3:\n    bucket-name: ${AWS_BUCKET_NAME}\n  sns:\n    region: ${AWS_SNS_REGION}\nEOF)"
    ]
  }
}
